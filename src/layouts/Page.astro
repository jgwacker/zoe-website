---
import BaseHead from '../components/BaseHead.astro';
import Header   from '../components/Header.astro';
import Footer   from '../components/Footer.astro';
const { title = 'Untitled', description = '' } = Astro.props;
---
<html lang="en">
  <head>
    <BaseHead title={title} description={description} />
    <style is:global>
      a:visited { color: var(--accent); }
      header nav { white-space: nowrap; overflow-x: auto; -webkit-overflow-scrolling: touch; }
      header nav a { text-decoration: none; }
    </style>
    <style>
      .layout { display: grid; grid-template-columns: minmax(220px,260px) 1fr; gap: 1.5rem; }
      .layout:has(.sidebar:empty) { grid-template-columns: 1fr; } /* collapse if no sidebar */
      .sidebar:empty { display: none; }
      .sidebar { position: sticky; top: 1rem; align-self: start; }
      .vlist { list-style: none; margin: 0; padding: 0; display: flex; flex-direction: column; gap: .25rem; }
      .vlist a { display: block; padding: .25rem .5rem; border-radius: 8px; text-decoration: none; }
      .vlist a:hover { background: var(--theme-bg-offset, rgba(0,0,0,.04)); text-decoration: none; }
      .vlist a:visited { color: var(--accent); }
      @media (max-width: 860px) { .layout { grid-template-columns: 1fr; } .sidebar { position: static; } }
      h1.post-title { margin-bottom: .75rem; }
      .intro { color: var(--theme-text-light); margin-bottom: 1rem; }
    </style>
  </head>
  <body>
    <Header />
    <main class="container">
      <h1 class="post-title">{title}</h1>
      <div class="layout">
        <aside class="sidebar">
          <slot name="sidebar" />
        </aside>
        <section class="content">
          <slot />
        </section>
      </div>
    </main>
    <Footer />
  </body>
</html>

